<div class="flex flex-col px-5 py-5">
  <div class="flex mb-3">
    <button
      (click)="onHandle()"
      class="hover:opacity-80 px-2 py-1 rounded mr-3 cursor-pointer bg-zinc-50 border border-zinc-300"
    >
      <fa-icon [icon]="isHidden ? icons.up : icons.down" />
    </button>
    <span class="text-xl"><b>Shopify ID:</b> {{ item()?.shopify_id }}</span>
  </div>

  @if(!isHidden) {
  <div class="overflow-x-auto bg-zinc-50 px-5 py-2 border border-zinc-300 rounded-lg">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Etapa
          </th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Log ({{  item()?.logs?.length }})
          </th>
          <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
            Data de criação
          </th>
        </tr>
      </thead>

      <tbody class="divide-y divide-gray-100">
        @for (log of item()?.logs; track $index;) {
        <tr class="hover:bg-gray-100">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-sm text-gray-900">{{ log.step }}</div>
          </td>

          <td class="px-6 py-4 whitespace-nowrap hidden sm:table-cell">
            <div class="text-sm text-gray-900">
              {{ log.log.descricao_status ? log.log.descricao_status : log.log.status }}
            </div>
          </td>

          <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-sm text-gray-900">{{ log.created_at | date : 'dd/MM/yyyy hh:mm:ss' }}</div>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }

	@if(isHidden) {
		<hr class="w-full text-zinc-300">
	}
</div>
